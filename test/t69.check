#!/bin/bash

if [ ! -f "t69-sp14.input/_spartandir" ]
then
echo NOT Passes ERROR 1
exit -1
fi

if [ ! -f "t69-sp14.input/t69_mol1/_spartan" ] ; then
echo NOT Passes ERROR 2
exit -1
fi

grep -q "cdk:Title=t69_mol1" t69-sp14.input/t69_mol1/cell
if [ $? != 0 ] ; then
echo NOT Passed ERROR 3
exit -1
fi

inputFile="t69-sp14.input/t69_mol1/input"

grep -q "SCONFANAL MMFF CONSTRAIN CONFSEXAMINED=10" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 4
exit -1
fi

grep -q "\-222 \-333" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 5
exit -1
fi

grep -q " 1 * 4 * 1" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 6
exit -1
fi

grep -q " BOND * 13 * 14 * 1.3365" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 7
exit -1
fi

grep -q "  ANGL * 1 * 10 * 13 60.0 key3" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 8
exit -1
fi

grep -q "  TORS * 1 * 10 * 13 * 14 key5 key6 key7" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 9
exit -1
fi

grep -q " 41 * 42 * 4" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 10
exit -1
fi

grep -q " 22 * 23 * 2" $inputFile
if [ $? != 0 ] ; then
echo NOT Passed ERROR 11
exit -1
fi

grep -q 'Termination status: 0' t69.log
if [ $? == 0 ] ; then 
echo Passed
exit 0
else
echo NOT Passed ERROR 12
exit -1
fi
