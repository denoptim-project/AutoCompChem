#!/bin/bash

echo "Option under development"
exit 0

#TODO: update all

grep -q -i "CHARGE[[:space:]]*0" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 1
exit -1
fi

grep -q "Total frozen ICs: 9/183" t53.log
if [ $? != 0 ] ; then
echo NOT Passed ERROR 2
exit -1
fi

# Excluding test depedent on command bc
if [[ "$(uname)" == CYGWIN* ]] || [[ "$(uname)" == MINGW* ]] || [[ "$(uname)" == MSYS* ]]
then
    echo Skipping UNIX-only checks
else
    n=$(echo $(wc -l t53-mol.nw | awk '{print $1}') - $(grep -n SCF t53-mol.nw | awk -F":" '{print $1}') | bc)
    m=$(tail -n $n t53-mol.nw | grep -n -m1 END | awk -F":" '{print $1}')
    tail -n $n t53-mol.nw | head -n $m | grep -i -q "SINGLET"
    if [ $? != 0 ] ; then
        echo NOT Passed ERROR 3
        exit -1
    fi
fi

grep -q -i "mult[[:space:]]*1" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 4
exit -1
fi

grep -q "^[[:space:]]*H[[:space:]]*$" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 5
exit -1
fi

grep -q "^[[:space:]]*C[[:space:]]*1[[:space:]]*dst1[[:space:]]*$" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 6
exit -1
fi

grep -q "^[[:space:]]*H[[:space:]]*2[[:space:]]*dst2[[:space:]]*1[[:space:]]*ang1[[:space:]]*$" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 7
exit -1
fi

grep -q "^[[:space:]]*Ru[[:space:]]*2[[:space:]]*dst3[[:space:]]*1[[:space:]]*ang2[[:space:]]*3[[:space:]]*ang3[[:space:]]*1[[:space:]]*$" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 8
exit -1
fi

grep -q "^[[:space:]]*Cl[[:space:]]*4[[:space:]]*dst4[[:space:]]*2[[:space:]]*ang4[[:space:]]*1[[:space:]]*tor1[[:space:]]*0[[:space:]]*$" t53-mol.nw
if [ $? != 0 ] ; then
echo NOT Passed ERROR 9
exit -1
fi

grep -A9 CONSTANTS t53-mol.nw | grep -q -i "^[[:space:]]*end[[:space:]]*$"
if [ $? == 0 ] ; then
echo NOT Passed ERROR 10
exit -1
fi

grep -A9 CONSTANTS t53-mol.nw | grep -q "^[[:space:]]*ang.[[:space:]]*108.8.......[[:space:]]*$"
if [ $? != 0 ] ; then
echo NOT Passed ERROR 11
exit -1
fi

grep -A9 CONSTANTS t53-mol.nw | grep -q "^[[:space:]]*tor.[[:space:]]*33.1.......[[:space:]]*$"
if [ $? != 0 ] ; then
echo NOT Passed ERROR 12
exit -1
fi

grep -A9 CONSTANTS t53-mol.nw | grep -q "^[[:space:]]*dst.[[:space:]]*2.1.......[[:space:]]*$"
if [ $? != 0 ] ; then
echo NOT Passed ERROR 13
exit -1
fi

grep -A174 VARIABLES t53-mol.nw | grep -q -i "^[[:space:]]*end[[:space:]]*$"
if [ $? == 0 ] ; then
echo NOT Passed ERROR 14
exit -1
fi

grep -q "Total frozen ICs: 9/183" t53.log
if [ $? != 0 ] ; then
echo NOT Passed ERROR 15
exit -1
fi

grep -q 'Termination status: 0' t53.log
if [ $? == 0 ] ; then 
echo Passed
exit 0
else
echo NOT Passed ERROR 16
exit -1
fi
